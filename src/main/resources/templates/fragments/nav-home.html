<!-- Navigation Fragment - Home/General Pages -->
<nav xmlns:th="http://www.thymeleaf.org" th:fragment="nav-home" class="nav-home">
    <div class="nav-container">
        <div class="nav-main">
            <a href="/">Trang chủ</a>
            <a href="/products">Sản phẩm</a>
            <a href="/cart">
                Giỏ hàng
                <span th:if="${cartItemCount != null and cartItemCount > 0}" 
                      class="cart-badge" 
                      th:text="${cartItemCount}"
                      style="background: var(--primary-color); color: white; border-radius: 50%; padding: 2px 6px; font-size: 0.75rem; margin-left: 4px;">
                </span>
            </a>
            <a href="/about">Giới thiệu</a>
        </div>
        <!-- Show login/register links if not authenticated -->
        <div th:if="${currentUser == null}" class="nav-auth">
            <a href="/login">Đăng nhập</a>
            <a href="/register">Đăng ký</a>
        </div>
        <!-- Show user info if authenticated -->
        <div th:if="${currentUser != null}" class="user-info">
            <a href="/my-summary" class="profile-link">Tổng quan</a>
            <a href="/orders" class="profile-link">Đơn hàng</a>
            <a href="/profile" class="profile-link">Hồ sơ</a>
            <span class="user-name" th:text="${currentUser.fullName != null ? currentUser.fullName : currentUser.email}">User</span>
            <form th:action="@{/logout}" method="post" style="display: inline;">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button type="submit" class="logout-btn">Đăng xuất</button>
            </form>
        </div>
    </div>
</nav>
